<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<header th:fragment="topbar(title)" class="topbar">

  <span class="topbar-title" th:text="${title}">홈 대시보드</span>

  <div class="topbar-search">
    <span class="search-icon">🔍</span>
    <input type="text" placeholder="검색어를 입력하세요...">
  </div>

  <div class="topbar-actions">
    <button class="icon-btn" title="알림">
      🔔
      <span class="notif-dot"></span>
    </button>
    <a th:href="@{/message}" class="icon-btn" title="쪽지">✉️</a>

    <!-- 로그인 됐을 때 -->
    <a th:if="${session.LOGIN_MEMBER != null}"
       th:href="@{/member/mypage}" class="topbar-user">
	   <div class="u-avatar"
	        th:text="${not #strings.isEmpty(session.LOGIN_MEMBER.name)} ? ${#strings.substring(session.LOGIN_MEMBER.name, 0, 1)} : '?'">홍</div>
      <span th:text="${session.LOGIN_MEMBER.name}">홍길동</span>
    </a>

    <!-- 로그인 안됐을 때 -->
    <a th:unless="${session.LOGIN_MEMBER != null}"
       th:href="@{/member/login}" class="topbar-user">
      <div class="t-avatar">?</div>
      <span>로그인</span>
    </a>

  </div>

</header>
</html>